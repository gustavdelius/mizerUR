<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Set up unstructured resource components — setUR • mizerUR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Set up unstructured resource components — setUR" />
<meta property="og:description" content="Allows you to add any number of unstructured resource components to an
existing MizerParams object. Such unstructured components are appropriate
whenever the predation on these components is not size based. Examples
include detritus as a resource for detritivores, carrion as a resource for
scavengers, or macroflora on which fish can graze." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mizerUR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/gustavdelius/mizerUR">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Set up unstructured resource components</h1>
    <small class="dont-index"><a href='https://github.com/gustavdelius/mizerUR/edit/master/R/setUR.R'>Edit this page. &nbsp;</a> Source: <a href='https://github.com/gustavdelius/mizerUR/blob/master/R/setUR.R'><code>R/setUR.R</code></a></small>
    <div class="hidden name"><code>setUR.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Allows you to add any number of unstructured resource components to an
existing MizerParams object. Such unstructured components are appropriate
whenever the predation on these components is not size based. Examples
include detritus as a resource for detritivores, carrion as a resource for
scavengers, or macroflora on which fish can graze.</p>
    </div>

    <pre class="usage"><span class='fu'>setUR</span>(<span class='no'>params</span>, <span class='no'>dynamics</span>, <span class='kw'>dynamics_params</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(), <span class='kw'>rho</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>params</th>
      <td><p>A MizerParams object</p></td>
    </tr>
    <tr>
      <th>dynamics</th>
      <td><p>A named list of functions that determine the
dynamics of the unstructured resources by calculating their biomasses at
the next time step from the current state. Details are described in the
section "Setting resource dynamics".</p></td>
    </tr>
    <tr>
      <th>dynamics_params</th>
      <td><p>A named list of parameters needed by the
<code>dynamics</code> functions. An empty list if no parameters are
needed.</p></td>
    </tr>
    <tr>
      <th>rho</th>
      <td><p>Optional. An array (species x resource x size)
holding the rate at which a fish of a particular species and of a
particular size feeds on each resource. Described in the section "Setting
resource encounter rate".</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A MizerParams object</p>
    <h2 class="hasAnchor" id="setting-resource-dynamics"><a class="anchor" href="#setting-resource-dynamics"></a>Setting resource dynamics</h2>

    


<p>During a simulation using <code>project()</code>, the biomasses of the resources are
updated at each time step by calling the functions specified in the
<code>dynamics</code> list. This list should have one named entry for each unstructured
resource component, giving the name of the function as a string.</p>
<p>Mizer provides two example functions that you can use to model resource
dynamics: <code><a href='detritus_dynamics.html'>detritus_dynamics()</a></code> and <code><a href='carrion_dynamics.html'>carrion_dynamics()</a></code>, but you can easily
implement others by following those templates.</p>
<p>As you can see in the documentation of these functions, their arguments are:
the <code>MizerParams</code> object <code>params</code>, the current fish size spectra <code>n</code>, the
current plankton spectrum <code>n_pp</code>, the abundances of any other components
'n_other', the current rates calculated by the <code>getRates()</code> function <code>rates</code>,
the current time <code>t</code> and the size of the time step <code>dt</code>.</p>
<p>The other arguments to the resource dynamics functions are model parameters,
like for example growth rates. These need to be provided in the
<code>dynamics_params</code> argument which is a named list. One model parameter that
should always be present in this list is the rate of change due to external
causes. This should be given a name of the form <code>resource_external</code> where
<code>resource</code> should be replaced by the name of the resource, see for example
<code>detritus_external</code> in <code><a href='detritus_dynamics.html'>detritus_dynamics()</a></code>.</p>
<p>When writing your own resource dynamics functions, you can choose any names
for your other model parameters, but you must make sure not to use the same
name in the function for another resource component. One way to ensure this
is to prefix all parameter names with your resource name.</p>
<p>The dynamics for a resource should always have a loss term accounting for
the consumption of the resource. The contribution to this loss arising from
consumption by fish should be calculated with
<code><a href='getConsumptionByFish.html'>getConsumptionByFish</a></code>.</p>
    <h2 class="hasAnchor" id="setting-resource-encounter-rate"><a class="anchor" href="#setting-resource-encounter-rate"></a>Setting resource encounter rate</h2>

    

<p>The resource encounter rate \(\rho_{id}(w)\) (units 1/year) determines the
rate at which an individual of species \(i\) encounters biomass of resource
\(d\), so that the contribution from all unstructured resources to the
total encounter rate is
$$E_{u.i}(w) = \sum_d\rho_{id}(w) B_d,$$
where \(B_d\) is the biomass of the d-th unstructured resource component.</p>
<p>Resource consumption is subject to satiation in the same way as other food,
so that a consumer only consumes a fraction \(1-f_i(w)\) of the encountered
resource biomass, where \(f_i(w)\) is the feeding level.</p>
<p>If the <code>rho</code> array is not supplied, then the resource encounter rate is
set to a power law
$$\rho_{id}(w) = \rho_{id} w^n.$$
The coefficients \(\rho_{id}\) are parameters in the
<code>params@species_params</code> dataframe. For example if there is a resource
called "detritus" then the species_params data frame needs to have a column
called <code>rho_detritus</code> and similarly for each other resource.</p>
<p>If the <code>rho</code> array is supplied, the ordering of the entries in the array
is important. The order of the species in the first array dimension needs to
be the same as that in the species parameter dataframe. The order of the
resources in the second array dimension must be the same as in the list of
resource dynamics. The third dimension is the size dimension.</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#setting-resource-dynamics">Setting resource dynamics</a></li>
      <li><a href="#setting-resource-encounter-rate">Setting resource encounter rate</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Gustav Delius.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


